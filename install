#!/usr/bin/env bash
# Install the SimpleCLI tool

cd $(dirname "${BASH_SOURCE[0]}") || exit 1
DIR="$(pwd)"
INSTALLDIR="/usr/local"

function install() {
  rm -f appify  cli  con  headerchk  mbox2imap  slacktee  ssllabs-scan-v3
  mkdir -p "${INSTALLDIR}/bin"

  rm -fr "${INSTALLDIR}/lib/simplecli"
  mkdir -p "${INSTALLDIR}/lib/simplecli"

  rsync -azh "${DIR}/bin/" "${INSTALLDIR}/bin/"
  rsync -azh "${DIR}/lib/" "${INSTALLDIR}/lib/simplecli/"

  if [[ -d "${DIR}/.git" ]]; then
    rsync -azh "${DIR}/.git" "${INSTALLDIR}/lib/simplecli/"
  fi

  echo "SimpleCLI successfully installed"
}

install
